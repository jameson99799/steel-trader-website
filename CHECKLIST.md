# 部署前检查清单

## 代码检查

- [x] 所有依赖已正确安装
- [x] 前端构建配置正确
- [x] 后端路由配置完整
- [x] 数据库初始化脚本正常
- [x] 文件上传功能正常
- [x] JWT 认证配置正确
- [x] CORS 配置合理
- [x] 错误处理完善
- [x] 日志记录完整

## 安全检查

- [ ] 修改默认管理员密码（admin/admin123）
- [ ] 设置强密码的 JWT_SECRET
- [ ] 检查 .gitignore 配置
- [ ] 确保 .env 不在版本控制中
- [ ] 生产环境限制 CORS 域名
- [ ] 配置安全响应头
- [ ] 限制文件上传大小和类型
- [ ] 配置 HTTPS（推荐）
- [ ] 配置防火墙规则
- [ ] 定期更新依赖包

## 功能测试

### 前台功能
- [ ] 首页正常显示
- [ ] 产品列表正常显示
- [ ] 产品详情正常显示
- [ ] 分类导航正常工作
- [ ] 询盘表单提交成功
- [ ] 中英文切换正常
- [ ] 响应式布局正常
- [ ] 图片加载正常

### 后台功能
- [ ] 登录功能正常
- [ ] 控制台数据显示正确
- [ ] 首页内容管理正常
- [ ] 分类管理（增删改查）正常
- [ ] 商品管理（增删改查）正常
- [ ] 图片上传功能正常
- [ ] 询盘管理正常
- [ ] 公司信息管理正常
- [ ] 修改密码功能正常
- [ ] 退出登录正常

## 性能检查

- [ ] 前端资源已压缩
- [ ] 图片已优化
- [ ] 启用 Gzip 压缩
- [ ] 配置静态资源缓存
- [ ] 数据库查询优化
- [ ] API 响应时间合理

## 部署环境

- [ ] Node.js 版本 >= 18.0.0
- [ ] 服务器内存 >= 512MB
- [ ] 磁盘空间 >= 1GB
- [ ] 端口 3001 可用
- [ ] data 目录有写权限
- [ ] uploads 目录有写权限
- [ ] 配置了进程管理（PM2/systemd）
- [ ] 配置了反向代理（Nginx）
- [ ] 配置了 SSL 证书（推荐）

## 备份计划

- [ ] 数据库定期备份
- [ ] 上传文件定期备份
- [ ] 配置文件已备份
- [ ] 设置自动备份脚本

## 监控和日志

- [ ] 配置应用日志
- [ ] 配置错误日志
- [ ] 配置访问日志
- [ ] 设置日志轮转
- [ ] 配置监控告警（可选）

## 文档

- [ ] README.md 已更新
- [ ] DEPLOYMENT.md 已阅读
- [ ] API 文档已准备（如需要）
- [ ] 用户手册已准备（如需要）

## 上线后

- [ ] 修改默认管理员密码
- [ ] 配置公司信息
- [ ] 上传 Logo 和 Favicon
- [ ] 配置首页内容
- [ ] 添加产品分类
- [ ] 添加产品信息
- [ ] 测试询盘功能
- [ ] 检查邮件通知（如配置）
- [ ] 监控服务器资源使用
- [ ] 检查错误日志

## 常见问题

### 应用无法启动
1. 检查端口占用
2. 检查环境变量
3. 检查文件权限
4. 查看错误日志

### 图片上传失败
1. 检查 uploads 目录权限
2. 检查磁盘空间
3. 检查文件大小限制
4. 检查 Nginx 配置

### 数据库错误
1. 检查 data 目录权限
2. 检查数据库文件完整性
3. 尝试备份并重建数据库

### 性能问题
1. 检查服务器资源使用
2. 优化数据库查询
3. 启用缓存
4. 使用 CDN（可选）

## 联系支持

如遇到问题，请：
1. 查看 DEPLOYMENT.md
2. 检查日志文件
3. 搜索相关错误信息
4. 提交 GitHub Issue
